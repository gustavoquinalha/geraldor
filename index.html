<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>gerador-img</title>
  <link rel="stylesheet" href="./dist/css/app.css">
</head>

<body>
  <div id="app">

    <div class="container height-full">
      <div class="basis05 menu-icons">
        <div class="container column">

          <div class="tes logo">
              <img src="./src/assets/svg/components.svg " alt="" width="20" />
          </div>

          <div class="tes" v-bind:class="[{ tey: menu == 'sizeMenu' }]" @click="sizeMenuMenu">
            <label for="sizeMenu" >
              <img src="./src/assets/svg/size.svg " alt="" width="20" />
            </label>
            <input type="radio" name="name" v-model="menu" id="sizeMenu" value="sizeMenu">
          </div>
          <div class="tes" v-bind:class="[{ tey: menu == 'picMenu' }]" @click="sizeMenuMenu">
            <label for="picMenu">
              <img src="./src/assets/svg/picture.svg " alt="" width="20" />
            </label>
            <input type="radio" name="name" v-model="menu" id="picMenu" value="picMenu">
          </div>
          <div class="tes" v-bind:class="[{ tey: menu == 'alignMenu' }]" @click="sizeMenuMenu">
            <label for="alignMenu">
              <img src="./src/assets/svg/align.svg " alt="" width="20" />
            </label>
            <input type="radio" name="name" v-model="menu" id="alignMenu" value="alignMenu">
          </div>
          <div class="tes" v-bind:class="[{ tey: menu == 'fontMenu' }]" @click="sizeMenuMenu">
            <label for="fontMenu">
              <img src="./src/assets/svg/font.svg " alt="" width="20" />
            </label>
            <input type="radio" name="name" v-model="menu" id="fontMenu" value="fontMenu">
          </div>
          <div class="tes" v-bind:class="[{ tey: menu == 'componentsMenu' }]" @click="sizeMenuMenu">
            <label for="componentsMenu">
              <img src="./src/assets/svg/components.svg " alt="" width="20" />
            </label>
            <input type="radio" name="name" v-model="menu" id="componentsMenu" value="componentsMenu">
          </div>



        </div>
      </div>
      <div class="basis2 menu-principal" v-show="showMenu" v-cloak style="position: relative;">
        <div class="showmenuClass" @click="toggle">
          <img src="./src/assets/back.svg" width="15" alt="">
        </div>

        <div v-if="menu == 'sizeMenu'" v-cloak>
          <div class="item1">

            <div class="container column wrap ">
              <p class="intro">Antes de tudo, defina o tamanho do role!</p>

              <div class="basis3 flex form-group active">
                <div>
                  width:
                </div>
                <input type="number" v-model="widthValue" placeholder="width" class="input">
                <span>Medida em pixel.</span>
              </div>
              <div class="basis3 flex form-group">
                <div>
                  height:
                </div>
                <input type="number" v-model="heightValue" placeholder="height" class="input">
                <span>Medida em pixel.</span>
              </div>
            </div>
          </div>

        </div>

        <div v-else-if="menu == 'alignMenu'" v-cloak>
          <div class="item1">
            <h2>Align</h2>
            <div class="container justify-center alignStyle">
              <div class="">
                <input type="radio" id="left" name="jus" v-model="justify" value="justify-start">
                <label for="left"><img src="./src/assets/svg/002-left-alignment.svg" alt=""></label>
                <br />
              </div>
              <div class="">
                <input type="radio" id="center" name="jus" v-model="justify" value="justify-center">
                <label for="center"><img src="./src/assets/svg/001-center-alignment.svg" alt=""></label>
                <br />
              </div>
              <div class="">
                <input type="radio" id="right" name="jus" v-model="justify" value="justify-end">
                <label for="right"><img src="./src/assets/svg/003-right-alignment.svg" alt=""></label>
              </div>
            </div>

            <div class="container justify-center alignStyle">
              <div class="">
                <input type="radio" id="top" name="ali" v-model="align" value="align-start">
                <label for="top"><img src="./src/assets/svg/006-vertical-alignment.svg" alt=""></label>
                <br />
              </div>
              <div class="">
                <input type="radio" id="center2" name="ali" v-model="align" value="align-center">
                <label for="center2"><img src="./src/assets/svg/004-vertical-alignment-2.svg" alt=""></label>
                <br />
              </div>
              <div class="">
                <input type="radio" id="bottom" name="ali" v-model="align" value="align-end">
                <label for="bottom"><img src="./src/assets/svg/005-vertical-alignment-1.svg" alt=""></label>
              </div>
            </div>
          </div>
        </div>
        <div v-else-if="menu == 'picMenu'" v-cloak>
          <div class="item1">
            <h2>Image</h2>
            <div>

              <label for="imgPrincipal">
                <img src="./src/assets/svg/photo-camera.svg" alt="" style="width: 30px">
              </label>
              <input id="imgPrincipal" type="file" @change="onFileChange" class="hide" @click="teste">

            </div>
            <button v-if="image" @click="removeImage">Remove image</button>
          </div>

          <div class="item1">
            <h2>Color</h2>
            <div class="container colors wrap align-center justify-start alignStyle">
              <div class="basis-25">
                <input type="radio" id="nocor" v-model="bgColor" value="nobg" />
                <label for="nocor">
                  <div class="demoBg nobg"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="bg8" v-model="bgColor" value="bg8" />
                <label for="bg8">
                  <div class="demoBg bg8"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor1" v-model="bgColor" value="bg1">
                <label for="cor1">
                  <div class="demoBg bg1"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor2" v-model="bgColor" value="bg2">
                <label for="cor2">
                  <div class="demoBg bg2"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor3" v-model="bgColor" value="bg3">
                <label for="cor3">
                  <div class="demoBg bg3"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor4" v-model="bgColor" value="bg4">
                <label for="cor4">
                  <div class="demoBg bg4"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor5" v-model="bgColor" value="bg5">
                <label for="cor5">
                  <div class="demoBg bg5"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor6" v-model="bgColor" value="bg6">
                <label for="cor6">
                  <div class="demoBg bg6"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor7" v-model="bgColor" value="bg7">
                <label for="cor7">
                  <div class="demoBg bg7"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor9" v-model="bgColor" value="bg9">
                <label for="cor9">
                  <div class="demoBg bg9"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor10" v-model="bgColor" value="bg10">
                <label for="cor10">
                  <div class="demoBg bg10"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor11" v-model="bgColor" value="bg11">
                <label for="cor11">
                  <div class="demoBg bg11"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor12" v-model="bgColor" value="bg12">
                <label for="cor12">
                  <div class="demoBg bg12"></div>
                </label>
              </div>
              <div class="basis-25">
                <input type="radio" id="cor13" v-model="bgColor" value="bg13">
                <label for="cor13">
                  <div class="demoBg bg13"></div>
                </label>
              </div>
            </div>
          </div>




        </div>
        <div v-else-if="menu == 'fontMenu'" v-cloak>
          <div class="item1">
            <h2>Text</h2>
            <h4>title</h4>
            <input type="text" class="input" v-model="text" placeholder="Digite seu texto">
            <button v-show="!shown" @click="toggleText">Adicionar</button>
            <button v-show="shown" @click="toggleText">Remover</button>


            <h4>subtitle</h4>
            <input type="text" class="input" v-model="stext" placeholder="Digite seu texto">
            <button v-show="!shownn" @click="toggleStext">Adicionar</button>
            <button v-show="shownn" @click="toggleStext">Remover</button>
            <br />



            <h4>Color</h4>
            <compact-picker v-model="colors"></compact-picker>

            <h4>Title font size</h4>
            <input min="12" max="60" v-model="fontSize" type="range">

            <h4>Subtitle font size</h4>
            <input min="12" max="60" v-model="fontSizes" type="range">


          </div>
        </div>
        <div v-else-if="menu == 'componentsMenu'" v-cloak>componentsMenu</div>
        <div v-else>loading...</div>



<div class="save">
   <button id="btn-Preview-Image" class="btn full primary" @click="togglePreview">Preview</button>
   <button id="btn-Convert-Html2Image" class="btn full download">Download</button>
</div>


        <!-- <div class="item1">
          <h2>Size</h2>

          <button v-on:click="counter++">+</button>
          <button v-on:click="counter--">-</button>
          <p>{{ counter }}</p>

        </div> -->







        <!-- <div class="item1">
      <div id="todo-list-example">
        <input v-model="newTodoText" v-on:keyup.enter="addNewTodo" placeholder="Add a todo">
        <ul>
          <li is="todo-item" v-for="(todo, index) in todos" v-bind:key="todo" v-bind:title="todo" v-on:remove="todos.splice(index, 1)"></li>
        </ul>
      </div>
    </div> -->

      </div>
      <div class="basis5 flex conteudo">
        <div class="container center height-full">
          <div class="role container" id="html-content-holder" v-bind:style="{ width: widthValue + 'px', background: 'url(' + image + ')', height: heightValue + 'px'}" v-bind:class="justify + ' ' + align + ' ' + bgColor">
            <!-- <img v-if="image" :src="image" style="object-fit: cover" v-bind:style="{ width: widthValue + 'px', height: heightValue + 'px'}"/> -->
            <div class="aqui" id="aqui">
              <span for="fontMenu">
                <h1 v-show="shown" class="draggable" v-text="text" v-bind:style="{ color: colors.hex, fontSize: fontSize + 'px' }"></h1>
                <p v-show="shownn" class="draggable" v-text="stext" v-bind:style="{ color: colors.hex, fontSize: fontSizes + 'px' }"></p>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>






    <div class="preview" v-show="preview">
      <h3>Preview :</h3>
      <div id="previewImage">
      </div>
      <button @click="togglePreview">teste</button>
    </div>
  </div>




  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://files.codepedia.info/files/uploads/iScripts/html2canvas.js"></script>



  <script>
$(document).ready(function(){
    var element = $("#html-content-holder"); // global variable
    var getCanvas; // global variable

    $( '.draggable' ).draggable({
      containment : ".role",
      // helper: 'clone',
      // iframeFix: true,
      //  grid: [ 50, 20 ]
    });





    $("#btn-Preview-Image").on('click', function () {
         html2canvas(element, {
         onrendered: function (canvas) {
                $("#previewImage").append(canvas);
                getCanvas = canvas;
             }
         });
    });

	$("#btn-Convert-Html2Image").on('click', function () {
    var imgageData = getCanvas.toDataURL("image/png");
    // Now browser starts downloading it instead of just showing it
    var newData = imgageData.replace(/^data:image\/png/, "data:application/octet-stream");
    $("#btn-Convert-Html2Image").attr("download", "your_pic_name.png").attr("href", newData);
	});




  });



  </script>




  <script src="./dist/build.js"></script>
</body>

</html>
